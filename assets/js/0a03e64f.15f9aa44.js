"use strict";(self.webpackChunkdocdevtron=self.webpackChunkdocdevtron||[]).push([[2010],{1274:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>a,frontMatter:()=>l,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"user-guide/jobs/workflow-editor-job","title":"Workflow Editor","description":"In the Workflow Editor section, you can configure a job pipeline to be executed. Pipelines can be configured to be triggered automatically or manually based on code change or time.","source":"@site/docs/user-guide/jobs/workflow-editor-job.md","sourceDirName":"user-guide/jobs","slug":"/user-guide/jobs/workflow-editor-job","permalink":"/docs/user-guide/jobs/workflow-editor-job","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Configuration","permalink":"/docs/user-guide/jobs/configuration-job"},"next":{"title":"Triggering Job","permalink":"/docs/user-guide/jobs/triggering-job"}}');var r=i(4848),s=i(8453);const l={},o="Workflow Editor",c={},d=[{value:"Docker Layer Caching",id:"docker-layer-caching-",level:3},{value:"Source type: Branch Fixed",id:"source-type-branch-fixed",level:3},{value:"Source type: Branch Regex",id:"source-type-branch-regex",level:3},{value:"Source type: Pull Request",id:"source-type-pull-request",level:3},{value:"Source type: Tag Creation",id:"source-type-tag-creation",level:3},{value:"Add Preset Plugins",id:"add-preset-plugins",level:3},{value:"Update Job Pipeline",id:"update-job-pipeline",level:2},{value:"Delete Job Pipeline",id:"delete-job-pipeline",level:2}];function h(e){const t={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"workflow-editor",children:"Workflow Editor"})}),"\n",(0,r.jsxs)(t.p,{children:["In the ",(0,r.jsx)(t.code,{children:"Workflow Editor"})," section, you can configure a job pipeline to be executed. Pipelines can be configured to be triggered automatically or manually based on code change or time."]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["After adding Git repo in the ",(0,r.jsx)(t.code,{children:"Source Code"})," section, go to the ",(0,r.jsx)(t.code,{children:"Workflow Editor"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:["Click ",(0,r.jsx)(t.code,{children:"Job Pipeline"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:["Provide the information in the following fields on the ",(0,r.jsx)(t.strong,{children:"Create job pipeline"})," page:"]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/create-job/create-job-pipeline-basic.jpg",alt:""})}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Field Name"}),(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Required/Optional"}),(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Pipeline Name"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Required"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"A name for the pipeline"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Source type"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Required"}),(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:["Source type to trigger the job pipeline. Available options: ",(0,r.jsx)(t.a,{href:"#source-type-branch-fixed",children:"Branch Fixed"})," | ",(0,r.jsx)(t.a,{href:"#source-type-branch-regex",children:"Branch Regex"})," |",(0,r.jsx)(t.a,{href:"#source-type-pull-request",children:"Pull Request"})," | ",(0,r.jsx)(t.a,{href:"#source-type-tag-creation",children:"Tag Creation"})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Branch Name"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Required"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Branch that triggers the job pipeline."})]})]})]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Click ",(0,r.jsx)(t.strong,{children:"Create Pipeline"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"The job pipeline is created."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/create-job/job-pipeline-created.jpg",alt:""})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["To trigger job pipeline, go to the ",(0,r.jsx)(t.a,{href:"/docs/user-guide/jobs/triggering-job",children:"Trigger Job"})," section."]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"Note"}),": You can create more than one job pipeline by clicking ",(0,r.jsx)(t.strong,{children:"+ Job Pipeline"}),"."]}),"\n",(0,r.jsxs)(t.h3,{id:"docker-layer-caching-",children:["Docker Layer Caching ",(0,r.jsx)(t.a,{href:"https://devtron.ai/pricing",children:(0,r.jsx)(t.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/elements/EnterpriseTag.svg",alt:""})})]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.a,{href:"../creating-application/workflow/ci-pipeline#docker-layer-caching-",children:"Click here"})," to read more about controlling cache behavior in Devtron."]}),"\n",(0,r.jsx)(t.h3,{id:"source-type-branch-fixed",children:"Source type: Branch Fixed"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.strong,{children:"Source type"}),' - "Branch Fixed" allows you to trigger a CI build whenever there is a code change on the specified branch.']}),"\n",(0,r.jsxs)(t.p,{children:["Select the ",(0,r.jsx)(t.strong,{children:"Source type"}),' as "Branch Fixed" and enter the ',(0,r.jsx)(t.strong,{children:"Branch Name"}),"."]}),"\n",(0,r.jsx)(t.h3,{id:"source-type-branch-regex",children:"Source type: Branch Regex"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"Branch Regex"})," allows users to easily switch between branches matching the configured Regex before triggering the build pipeline.\nIn case of ",(0,r.jsx)(t.code,{children:"Branch Fixed"}),", users cannot change the branch name in ci-pipeline unless they have admin access for the app. So, if users with\n",(0,r.jsx)(t.code,{children:"Build and Deploy"})," access should be allowed to switch branch name before triggering ci-pipeline, ",(0,r.jsx)(t.code,{children:"Branch Regex"})," should be selected as source type by a user with Admin access."]}),"\n",(0,r.jsxs)(t.p,{children:["For example if the user sets the Branch Regex as ",(0,r.jsx)(t.code,{children:"feature-*"}),", then users can trigger from branches such as ",(0,r.jsx)(t.code,{children:"feature-1450"}),", ",(0,r.jsx)(t.code,{children:"feature-hot-fix"})," etc."]}),"\n",(0,r.jsx)(t.h3,{id:"source-type-pull-request",children:"Source type: Pull Request"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.strong,{children:"Source type"}),' - "Pull Request" allows you to configure the CI Pipeline using the PR raised in your repository.']}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsxs)(t.p,{children:["Before you begin, ",(0,r.jsx)(t.a,{href:"../creating-application/workflow/ci-pipeline#configuring-webhook",children:"configure the webhook"})," for either GitHub or Bitbucket."]}),"\n"]}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsxs)(t.p,{children:['The "Pull Request" source type feature only works for the host GitHub or Bitbucket cloud for now. To request support for a different Git host, please create a GitHub issue ',(0,r.jsx)(t.a,{href:"https://github.com/devtron-labs/devtron/issues",children:"here"}),"."]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"To trigger the build from specific PRs, you can filter the PRs based on the following keys:"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Filter key"}),(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:(0,r.jsx)(t.code,{children:"Author"})}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Author of the PR"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:(0,r.jsx)(t.code,{children:"Source branch name"})}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Branch from which the Pull Request is generated"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:(0,r.jsx)(t.code,{children:"Target branch name"})}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Branch to which the Pull request will be merged"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:(0,r.jsx)(t.code,{children:"Title"})}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Title of the Pull Request"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:(0,r.jsx)(t.code,{children:"State"})}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:'State of the PR. Default is "open" and cannot be changed'})]})]})]}),"\n",(0,r.jsxs)(t.p,{children:["Select the appropriate filter and pass the matching condition as a regular expression (",(0,r.jsx)(t.code,{children:"regex"}),")."]}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsxs)(t.p,{children:["Devtron uses regexp library, view ",(0,r.jsx)(t.a,{href:"https://yourbasic.org/golang/regexp-cheat-sheet/",children:"regexp cheatsheet"}),". You can test your custom regex from ",(0,r.jsx)(t.a,{href:"https://regex101.com/r/lHHuaE/1",children:"here"}),"."]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"source-type-tag-creation",children:"Source type: Tag Creation"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.strong,{children:"Source type"}),' - "Tag Creation" allows you to build the CI pipeline from a tag.']}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsxs)(t.p,{children:["Before you begin, ",(0,r.jsx)(t.a,{href:"../creating-application/workflow/ci-pipeline#configuring-webhook",children:"configure the webhook"})," for either GitHub or Bitbucket."]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["To trigger the build from specific tags, you can filter the tags based on the ",(0,r.jsx)(t.code,{children:"author"})," and/or the ",(0,r.jsx)(t.code,{children:"tag name"}),"."]}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Filter key"}),(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:(0,r.jsx)(t.code,{children:"Author"})}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"The one who created the tag"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:(0,r.jsx)(t.code,{children:"Tag name"})}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Name of the tag for which the webhook will be triggered"})]})]})]}),"\n",(0,r.jsxs)(t.p,{children:["Select the appropriate filter and pass the matching condition as a regular expression (",(0,r.jsx)(t.code,{children:"regex"}),")."]}),"\n",(0,r.jsx)(t.h3,{id:"add-preset-plugins",children:"Add Preset Plugins"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/create-job/create-job-pipeline-add-tasks.jpg",alt:""})}),"\n",(0,r.jsxs)(t.p,{children:["You can also add preset plugins in your job pipeline to execute some standard tasks, such as Code analysis, Load testing, Security scanning etc. Click ",(0,r.jsx)(t.code,{children:"Add Task"})," to add ",(0,r.jsx)(t.a,{href:"../creating-application/workflow/ci-build-pre-post-plugins#configuring-prepost-build-tasks",children:"preset plugins"}),"."]}),"\n",(0,r.jsx)(t.h2,{id:"update-job-pipeline",children:"Update Job Pipeline"}),"\n",(0,r.jsxs)(t.p,{children:["You can update the configurations of an existing Job Pipeline except for the pipeline's name.\nTo update a pipeline, select your job pipeline.\nIn the ",(0,r.jsx)(t.strong,{children:"Edit job pipeline"})," window, edit the required fields and select ",(0,r.jsx)(t.strong,{children:"Update Pipeline"}),"."]}),"\n",(0,r.jsx)(t.h2,{id:"delete-job-pipeline",children:"Delete Job Pipeline"}),"\n",(0,r.jsx)(t.p,{children:"You can only delete a job pipeline in your workflow."}),"\n",(0,r.jsxs)(t.p,{children:["To delete a job pipeline, go to ",(0,r.jsx)(t.strong,{children:"Configurations > Workflow Editor"})," and select ",(0,r.jsx)(t.strong,{children:"Delete Pipeline"}),"."]})]})}function a(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,t,i)=>{i.d(t,{R:()=>l,x:()=>o});var n=i(6540);const r={},s=n.createContext(r);function l(e){const t=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);