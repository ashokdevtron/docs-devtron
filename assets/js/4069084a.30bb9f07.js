"use strict";(self.webpackChunkdocdevtron=self.webpackChunkdocdevtron||[]).push([[2089],{4684:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"user-guide/app-details/ephemeral-containers","title":"Using Ephemeral Containers in Devtron","description":"Introduction","source":"@site/docs/user-guide/app-details/ephemeral-containers.md","sourceDirName":"user-guide/app-details","slug":"/user-guide/app-details/ephemeral-containers","permalink":"/docs-devtron/docs/user-guide/app-details/ephemeral-containers","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Debugging Deployment And Monitoring","permalink":"/docs-devtron/docs/user-guide/debugging-deployment-and-monitoring"},"next":{"title":"Application Metrics","permalink":"/docs-devtron/docs/user-guide/creating-application/app-metrics"}}');var o=r(4848),t=r(8453);const s={},a="Using Ephemeral Containers in Devtron",l={},c=[{value:"Introduction",id:"introduction",level:2},{value:"How to Launch an Ephemeral Container",id:"how-to-launch-an-ephemeral-container",level:2},{value:"From Devtron (App Details)",id:"from-devtron-app-details",level:3},{value:"From Devtron (Resource Browser)",id:"from-devtron-resource-browser",level:3},{value:"From Devtron&#39;s Cluster Terminal",id:"from-devtrons-cluster-terminal",level:3},{value:"Removing an Ephemeral Container",id:"removing-an-ephemeral-container",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"using-ephemeral-containers-in-devtron",children:"Using Ephemeral Containers in Devtron"})}),"\n",(0,o.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,o.jsxs)(n.p,{children:["Ephemeral container is a special type of container that runs temporarily in an existing Pod to accomplish user-initiated actions such as troubleshooting. It is especially useful when ",(0,o.jsx)(n.code,{children:"kubectl exec"})," is insufficient because a container has crashed or a container image doesn't include debugging utilities."]}),"\n",(0,o.jsxs)(n.p,{children:["For instance, ephemeral containers help you execute a ",(0,o.jsx)(n.code,{children:"curl"})," request from within pods that typically lack this utility."]}),"\n",(0,o.jsx)(n.admonition,{type:"info",children:(0,o.jsx)(n.p,{children:"Ephemeral containers are turned on by default in Kubernetes v1.23 and later"})}),"\n",(0,o.jsx)("hr",{}),"\n",(0,o.jsx)(n.h2,{id:"how-to-launch-an-ephemeral-container",children:"How to Launch an Ephemeral Container"}),"\n",(0,o.jsx)(n.p,{children:"Wherever you can access pod resources in Devtron, you can launch an ephemeral container as shown below."}),"\n",(0,o.jsx)(n.h3,{id:"from-devtron-app-details",children:"From Devtron (App Details)"}),"\n",(0,o.jsx)("iframe",{width:"100%",height:"400",src:"https://www.youtube.com/embed/TnaHRugYvSI",title:"Launching Ephemeral Container from App Details",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["In the left sidebar, go to ",(0,o.jsx)(n.strong,{children:"Applications"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Search and click your application from the list of Devtron Apps."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Go to the ",(0,o.jsx)(n.strong,{children:"App Details"})," tab."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Under the ",(0,o.jsx)(n.strong,{children:"K8 Resources"})," tab, select ",(0,o.jsx)(n.strong,{children:"Pod"})," inside ",(0,o.jsx)(n.code,{children:"Workloads"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Locate the pod you wish to debug. Hover and choose click ",(0,o.jsx)(n.strong,{children:"Terminal"}),"."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/debugging-deployment-and-monitoring/terminal.jpg",alt:"Figure 1: Opening a Terminal"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Click ",(0,o.jsx)(n.strong,{children:"Launch Ephemeral Container"})," as shown below."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/debugging-deployment-and-monitoring/launch-ec-new.jpg",alt:"Figure 2: Launching an Ephemeral Container"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"You get 2 tabs:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Basic"})," - It provides the bare minimum configurations required to launch an ephemeral container."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/debugging-deployment-and-monitoring/basic.jpg",alt:"Figure 3: Basic View"})}),"\n",(0,o.jsx)(n.p,{children:"It contains 3 mandatory fields:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Container name prefix"})," - Type a prefix to give to your ephemeral container, for e.g., ",(0,o.jsx)(n.em,{children:"debug"}),". Your container name would look like ",(0,o.jsx)(n.code,{children:"debug-jndvs"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Image"})," - Choose an image to run from the dropdown. Ephemeral containers need an image to run and provide the capability to debug, such as ",(0,o.jsx)(n.code,{children:"curl"}),". You can use a custom image too."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Target Container name"})," - Since a pod can have one or more containers, choose a target container you wish to debug, from the dropdown."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Advanced"})," - It is particularly useful for advanced users that wish to use labels or annotations since it provides additional key-value options. Refer ",(0,o.jsx)(n.a,{href:"https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#ephemeralcontainer-v1-core",children:"Ephemeral Container Spec"})," to view the supported options."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/debugging-deployment-and-monitoring/advanced.jpg",alt:"Figure 4: Advanced View"})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.admonition,{type:"info",children:(0,o.jsxs)(n.p,{children:["Devtron ignores the ",(0,o.jsx)(n.code,{children:"command"})," field while launching an ephemeral container"]})}),"\n",(0,o.jsxs)(n.ol,{start:"8",children:["\n",(0,o.jsxs)(n.li,{children:["Click ",(0,o.jsx)(n.strong,{children:"Launch Container"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"from-devtron-resource-browser",children:"From Devtron (Resource Browser)"}),"\n",(0,o.jsxs)(n.p,{children:["Click ",(0,o.jsx)(n.a,{href:"../resource-browser/pods#launching-ephemeral-container",children:"here"})," to know more."]}),"\n",(0,o.jsx)(n.h3,{id:"from-devtrons-cluster-terminal",children:"From Devtron's Cluster Terminal"}),"\n",(0,o.jsxs)(n.p,{children:["(",(0,o.jsx)(n.em,{children:"This is not a recommended method. This option is available only if you are an admin."}),")"]}),"\n",(0,o.jsx)("iframe",{width:"100%",height:"400",src:"https://www.youtube.com/embed/PzB6dFRYe38",title:"Externally Created Ephemeral Container",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}),"\n",(0,o.jsx)(n.p,{children:"You can launch an ephemeral container from Kubernetes CLI. For this, you need access to the cluster terminal on Devtron."}),"\n",(0,o.jsx)("hr",{}),"\n",(0,o.jsx)(n.h2,{id:"removing-an-ephemeral-container",children:"Removing an Ephemeral Container"}),"\n",(0,o.jsx)("iframe",{width:"100%",height:"400",src:"https://www.youtube.com/embed/tZID0YU0YUU",title:"Deleting Ephemeral Containers",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}),"\n",(0,o.jsxs)(n.p,{children:["You can remove an ephemeral container using either ",(0,o.jsx)(n.strong,{children:"App Details"})," or ",(0,o.jsx)(n.strong,{children:"Resource Browser"})," (from the same screen you used to create the ephemeral container)."]}),"\n",(0,o.jsx)(n.admonition,{type:"info",children:(0,o.jsxs)(n.p,{children:["You cannot use ",(0,o.jsx)(n.strong,{children:"App Details"})," or ",(0,o.jsx)(n.strong,{children:"Resource Browser"})," to remove an ephemeral container created using Kubernetes CLI"]})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/debugging-deployment-and-monitoring/delete-ec.jpg",alt:"Figure 5: Removing Ephemeral Container from App Details"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>a});var i=r(6540);const o={},t=i.createContext(o);function s(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);