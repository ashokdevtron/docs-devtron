"use strict";(self.webpackChunkdocdevtron=self.webpackChunkdocdevtron||[]).push([[1193],{4469:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"user-guide/resource-browser/compare-and-sync","title":"Compare & Sync Clusters","description":"Introduction","source":"@site/docs/user-guide/resource-browser/compare-and-sync.md","sourceDirName":"user-guide/resource-browser","slug":"/user-guide/resource-browser/compare-and-sync","permalink":"/docs-devtron/docs/user-guide/resource-browser/compare-and-sync","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Discover and Manage Resources","permalink":"/docs-devtron/docs/user-guide/resource-browser/manage-resources"},"next":{"title":"Nodes","permalink":"/docs-devtron/docs/user-guide/resource-browser/nodes"}}');var t=r(4848),i=r(8453);const c={},o="Compare & Sync Clusters",l={},a=[{value:"Introduction <a></a>",id:"introduction-",level:2},{value:"Steps",id:"steps",level:2},{value:"Create Missing Resource(s)",id:"create-missing-resources",level:3},{value:"Compare Manifest",id:"compare-manifest",level:3},{value:"Use Cases",id:"use-cases",level:2}];function d(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"compare--sync-clusters",children:"Compare & Sync Clusters"})}),"\n",(0,t.jsxs)(s.h2,{id:"introduction-",children:["Introduction ",(0,t.jsx)("a",{href:"https://devtron.ai/pricing",children:(0,t.jsx)("img",{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/elements/EnterpriseTag.svg",className:"enterprise-badge-img"})})]}),"\n",(0,t.jsx)(s.p,{children:"The Compare & Sync feature in Devtron allows you to:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Compare two different ",(0,t.jsx)(s.a,{href:"/docs-devtron/docs/reference/glossary#cluster",children:"clusters"})]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"Create missing Kubernetes resources (e.g., pods, ConfigMaps, Secrets, etc.)"}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"Match the manifests (if required)"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["Refer to ",(0,t.jsx)(s.a,{href:"#use-cases",children:"Use Cases"})," to know more on how this feature can help you."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/kubernetes-resource-browser/compare-sync-highlighted.jpg",alt:"Figure 1: Compare & Sync Feature"})}),"\n",(0,t.jsx)(s.admonition,{title:"Who Can Perform This Action?",type:"caution",children:(0,t.jsxs)(s.p,{children:["Only a ",(0,t.jsx)(s.a,{href:"/docs-devtron/docs/user-guide/global-configurations/authorization/user-access#grant-super-admin-permission",children:"Super-Admin"})," can compare and sync clusters."]})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"steps",children:"Steps"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Navigate to ",(0,t.jsx)(s.strong,{children:"Resource Browser"}),"."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/kubernetes-resource-browser/k8s-resource-browser.jpg",alt:"Figure 2: Resource Browser"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Click the reference cluster (e.g., ",(0,t.jsx)(s.code,{children:"default-cluster"}),") to compare against other clusters."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Click the ",(0,t.jsx)(s.strong,{children:"Compare & Sync"})," button. The ",(0,t.jsx)(s.strong,{children:"Compare & Sync Clusters"})," page is displayed."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/kubernetes-resource-browser/compare-sync-highlighted.jpg",alt:"Figure 3: Compare & Sync Button"})}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.strong,{children:"Compare & Sync Clusters"})," page is primarily divided into two halves. The left side of the page displays the resources of the reference cluster you previously selected (",(0,t.jsx)(s.code,{children:"default-cluster"})," in this case). The right side of the page displays the resources of the target cluster you want to compare against."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/kubernetes-resource-browser/compare-sync-home.jpg",alt:"Figure 4: Compare & Sync Clusters Page"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Select the target cluster in the ",(0,t.jsx)(s.strong,{children:"Select Cluster"})," drop-down box (e.g., ",(0,t.jsx)(s.code,{children:"playground-vcluster"})," in this case)."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/kubernetes-resource-browser/select-cluster-option.jpg",alt:"Figure 5: Select the Cluster"})}),"\n",(0,t.jsxs)(s.p,{children:["Once you select the clusters that you want to compare, all the resources associated with those clusters are listed in the ",(0,t.jsx)(s.strong,{children:"Compare & Sync Clusters"})," page."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/kubernetes-resource-browser/resources-displayed.jpg",alt:"Figure 6: Cluster Resources are Displayed"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.admonition,{title:"How to Identify Missing Resource(s)?",type:"info",children:[(0,t.jsx)(s.p,{children:"When the color of the resource is:"}),(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Red"})," - The resource is not available in that particular cluster."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Blue"})," - The resource is available in that particular cluster, but the ",(0,t.jsx)(s.a,{href:"/docs-devtron/docs/reference/glossary#manifest",children:"manifest"})," may not be the same. It is recommended to compare the manifest once."]}),"\n"]}),"\n"]}),(0,t.jsx)(s.p,{children:"For instance, when a resource is displayed in blue in cluster A and in red in cluster B, it means that the resource available in cluster A is not available in cluster B."})]}),"\n",(0,t.jsxs)(s.ol,{start:"5",children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Click the filter available at the top left corner of the page. All the resource groups and resource kinds are displayed in the filter box. For example, when you select ",(0,t.jsx)(s.code,{children:"ConfigMap"})," as a resource kind, all the available ConfigMaps in both clusters are displayed."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/kubernetes-resource-browser/resource-group-filterbox.jpg",alt:"Figure 7: Resource Kind Filter"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Click the ",(0,t.jsx)(s.strong,{children:"View all"})," drop-down box. This filter allows you to filter the resources based on the following criteria:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"View all"})," - To display all resources from both clusters without any filters."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"Only matching"})," - To only display resources that exist in both clusters."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"Only non-matching"})," - To only display resources that are present in one cluster but not the other."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"View left join"})," - To display all resources from the reference cluster (left-hand side) and only matching resources from the target cluster (right-hand side)."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"View right join"})," - To display all resources from the target cluster (right-hand side) and only matching resources from the reference cluster (left-hand side)."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/kubernetes-resource-browser/view-all-filterbox.jpg",alt:"Figure 8: View All Filter"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.admonition,{title:"Creating a Missing Resource?",type:"caution",children:(0,t.jsxs)(s.p,{children:["Before creating a missing resource or comparing a manifest, it is very important to match the namespaces in both clusters. Otherwise, an error will be displayed. For example, if cluster A has a namespace ",(0,t.jsx)(s.code,{children:"devtroncd"})," and cluster B does not have the same namespace, then you will get an error message while creating a missing resource."]})}),"\n",(0,t.jsx)(s.p,{children:"Follow the below steps to match the namespaces:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Enter ",(0,t.jsx)(s.code,{children:"Namespace"})," in the filter available at the top left corner of the ",(0,t.jsx)(s.strong,{children:"Compare & Sync Clusters"})," page."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"Compare the namespaces available in the reference cluster (left-hand side) against the namespaces available in the target cluster (right-hand side)."}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"Select the namespace(s) for which you prefer to create missing resources for using the checkboxes."}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Click the ",(0,t.jsx)(s.strong,{children:"Create Resources"})," button. The namespaces will now be matched."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/kubernetes-resource-browser/sync-namespaces.gif",alt:"Figure 9: Match Namespaces"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"create-missing-resources",children:"Create Missing Resource(s)"}),"\n",(0,t.jsxs)(s.p,{children:["Hover over the resource that you'd like to create in the target cluster and click the ",(0,t.jsx)(s.strong,{children:"Create Resource"})," option."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/kubernetes-resource-browser/create-resource.jpg",alt:"Figure 10: Create Resource"})}),"\n",(0,t.jsx)(s.admonition,{title:"Note",type:"info",children:(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["To create missing resources in bulk, select the checkboxes against the resources or resource groups and click the ",(0,t.jsx)(s.strong,{children:"Create Resources"})," button. All the selected resources will be created in the target cluster."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"Even after creating missing resources, a few of them may not run as expected unless the dependencies required to run the resources correctly are also met. Therefore, it is recommended that you ensure all the necessary dependencies are taken care of while creating missing resources."}),"\n"]}),"\n"]})}),"\n",(0,t.jsx)(s.h3,{id:"compare-manifest",children:"Compare Manifest"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Hover over the resource and click the ",(0,t.jsx)(s.strong,{children:"Compare manifest"})," option to compare the manifest of the resource in both clusters."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/kubernetes-resource-browser/compare-manifest.jpg",alt:"Figure 11: Compare Manifest"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Click ",(0,t.jsx)(s.strong,{children:"Edit YAML"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Click the ",(0,t.jsx)(s.strong,{children:"Revert this chunk"})," option to enforce the values, if required, from the reference cluster to the target cluster."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/kubernetes-resource-browser/compare-manifest.gif",alt:"Figure 12: Revert this Chunk"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Click ",(0,t.jsx)(s.strong,{children:"Apply Changes"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"When you apply the changes, the Kubernetes resources from your reference cluster are copied to the target cluster. However, you can also make changes bidirectionally i.e., from the target cluster to the reference cluster. You can do so by copy pasting the values from one resource to another."}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,t.jsx)(s.p,{children:"The following table highlights the use cases which the Compare and Sync Clusters feature:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{style:{textAlign:"left"},children:(0,t.jsx)(s.strong,{children:"What you can do"})}),(0,t.jsx)(s.th,{style:{textAlign:"left"},children:(0,t.jsx)(s.strong,{children:"How it helps you"})})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.strong,{children:"Backup Clusters"})}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:"Create backup clusters for disaster recovery (e.g., cluster failure)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.strong,{children:"Compare Resources"})}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:"Compare and spot missing resources across clusters"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.strong,{children:"Create Missing Resources"})}),(0,t.jsxs)(s.td,{style:{textAlign:"left"},children:["Create and sync missing resources such as ",(0,t.jsx)(s.a,{href:"/docs-devtron/docs/reference/glossary#configmaps",children:"ConfigMaps"})," and ",(0,t.jsx)(s.a,{href:"/docs-devtron/docs/reference/glossary#secrets",children:"Secrets"})," across multiple clusters"]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.strong,{children:"Match Manifest"})}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:"Compare the resource manifest and match them, if required"})]})]})]})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,s,r)=>{r.d(s,{R:()=>c,x:()=>o});var n=r(6540);const t={},i=n.createContext(t);function c(e){const s=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);