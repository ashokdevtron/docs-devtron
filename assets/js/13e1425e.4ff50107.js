"use strict";(self.webpackChunkdocdevtron=self.webpackChunkdocdevtron||[]).push([[9781],{6367:(e,i,o)=>{o.r(i),o.d(i,{assets:()=>p,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"user-guide/creating-application/gitops-config","title":"GitOps Configuration","description":"The \'GitOps Configuration\' page appears only if the super-admin has enabled \'Allow changing git repository for application\' in Global Configurations \u2192 GitOps.","source":"@site/docs/user-guide/creating-application/gitops-config.md","sourceDirName":"user-guide/creating-application","slug":"/user-guide/creating-application/gitops-config","permalink":"/docs-devtron/docs/user-guide/creating-application/gitops-config","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"HashiCorp Vault","permalink":"/docs-devtron/docs/user-guide/creating-application/base-config/eso/hashicorp-eso"},"next":{"title":"Workflow Editor","permalink":"/docs-devtron/docs/user-guide/creating-application/workflow/"}}');var t=o(4848),s=o(8453);const r={},a="GitOps Configuration",p={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Adding Custom Git Repo for GitOps",id:"adding-custom-git-repo-for-gitops",level:2},{value:"For Devtron Apps",id:"for-devtron-apps",level:3},{value:"For Helm Apps",id:"for-helm-apps",level:3}];function l(e){const i={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"gitops-configuration",children:"GitOps Configuration"})}),"\n",(0,t.jsxs)(i.admonition,{type:"caution",children:[(0,t.jsx)(i.mdxAdmonitionTitle,{}),(0,t.jsxs)(i.p,{children:["The 'GitOps Configuration' page appears only if the super-admin has enabled 'Allow changing git repository for application' in ",(0,t.jsx)(i.a,{href:"/docs-devtron/docs/user-guide/global-configurations/gitops",children:"Global Configurations \u2192 GitOps"}),"."]})]}),"\n",(0,t.jsx)(i.h2,{id:"introduction",children:"Introduction"}),"\n",(0,t.jsxs)(i.p,{children:["This configuration is an extension of the ",(0,t.jsx)(i.a,{href:"/docs-devtron/docs/user-guide/global-configurations/gitops",children:"GitOps"})," settings present in ",(0,t.jsx)(i.a,{href:"/docs-devtron/docs/user-guide/global-configurations/",children:"Global Configurations"})," of Devtron. Therefore, make sure you read it before making any changes to your app configuration."]}),"\n",(0,t.jsx)(i.p,{children:"The application-level GitOps configuration offers the flexibility to add a custom Git repo (as opposed to Devtron auto-creating a repo for your application)."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"adding-custom-git-repo-for-gitops",children:"Adding Custom Git Repo for GitOps"}),"\n",(0,t.jsx)(i.admonition,{title:"Who Can Perform This Action?",type:"caution",children:(0,t.jsxs)(i.p,{children:["Users need to have ",(0,t.jsx)(i.a,{href:"/docs-devtron/docs/user-guide/global-configurations/authorization/user-access#devtron-apps-permissions",children:"Admin permission"})," or above (along with access to the environment and application) to configure user-defined Git repo."]})}),"\n",(0,t.jsx)(i.h3,{id:"for-devtron-apps",children:"For Devtron Apps"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:["Go to ",(0,t.jsx)(i.strong,{children:"Applications"})," \u2192 ",(0,t.jsx)(i.strong,{children:"Devtron Apps"})," (tab) \u2192 (choose your app) \u2192 ",(0,t.jsx)(i.strong,{children:"App Configuration"})," (tab) \u2192 ",(0,t.jsx)(i.strong,{children:"GitOps Configuration"}),"."]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/creating-application/gitops/app-config-gitops.jpg",alt:"Figure 1: App-level GitOps Config"})}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"Assuming a GitOps repo was not added to your application earlier, you get 2 options:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Auto-create repository"})," - Select this option if you wish to proceed with the default behavior. It will create a repository automatically, named after your application with a prefix. Thus saving you the trouble of creating one manually."]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Commit manifests to a desired repository"})," - Select this option if you wish to add a custom repo that is already created with your ",(0,t.jsx)(i.a,{href:"/docs-devtron/docs/user-guide/global-configurations/gitops#supported-git-providers",children:"Git provider"}),". Enter its link in the ",(0,t.jsx)(i.code,{children:"Git Repo URL"})," field."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/creating-application/gitops/gitops-config.jpg",alt:"Figure 2: Repo Creation"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.admonition,{type:"caution",children:[(0,t.jsx)(i.mdxAdmonitionTitle,{}),(0,t.jsx)(i.p,{children:"GitOps repositories, whether auto-created by Devtron or added manually, are immutable. This means they cannot be modified after creation. The same is true if you have an existing CD pipeline that uses/used GitOps for deployment."})]}),"\n",(0,t.jsxs)(i.ol,{start:"3",children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:["Click ",(0,t.jsx)(i.strong,{children:"Save"}),"."]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/creating-application/gitops/saved-config.jpg",alt:"Figure 3: Saved GitOps Config"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Note"}),": In case you skipped the GitOps configuration for your application and proceeded towards the ",(0,t.jsx)(i.a,{href:"/docs-devtron/docs/user-guide/creating-application/workflow/cd-pipeline",children:"creation of a new CD pipeline"})," (that uses GitOps), you will be prompted to configure GitOps as shown below:"]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/creating-application/gitops/gitops-not-configured.jpg",alt:"Figure 4: Incomplete GitOps Config"})}),"\n",(0,t.jsx)(i.h3,{id:"for-helm-apps",children:"For Helm Apps"}),"\n",(0,t.jsxs)(i.p,{children:["You can ",(0,t.jsx)(i.a,{href:"/docs-devtron/docs/user-guide/deploy-chart/deployment-of-charts#configure-and-deploy-charts",children:"deploy a helm chart"})," using either Helm or GitOps. Let's assume you wish to deploy ",(0,t.jsx)(i.code,{children:"airflow"})," chart."]}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:["Select the helm chart from the ",(0,t.jsx)(i.a,{href:"/docs-devtron/docs/user-guide/deploy-chart/",children:"Chart Store"}),"."]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/creating-application/gitops/chart-selection.jpg",alt:"Figure 5: Choosing a Helm Chart"})}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:["Click ",(0,t.jsx)(i.strong,{children:"Configure & Deploy"}),"."]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/creating-application/gitops/configure-deploy.jpg",alt:"Figure 6: Configure & Deploy Button"})}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:["After you enter the ",(0,t.jsx)(i.code,{children:"App Name"}),", ",(0,t.jsx)(i.code,{children:"Project"}),", and ",(0,t.jsx)(i.code,{children:"Environment"}),"; an option to choose the deployment approach (i.e., Helm or GitOps) would appear. Select ",(0,t.jsx)(i.strong,{children:"GitOps"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.admonition,{type:"info",children:[(0,t.jsx)(i.mdxAdmonitionTitle,{}),(0,t.jsxs)(i.p,{children:["The option to choose between 'Helm' or 'GitOps' is only available in ",(0,t.jsx)("img",{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/elements/EnterpriseTag.svg"})]})]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/creating-application/gitops/deployment-method.jpg",alt:"Figure 7a: Deployment Approach"})}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/creating-application/gitops/select-gitops.jpg",alt:"Figure 7b: Selecting GitOps Method"})}),"\n",(0,t.jsxs)(i.ol,{start:"4",children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:["A modal window will appear for you to enter a Git repository. Just like ",(0,t.jsx)(i.a,{href:"#for-devtron-apps",children:"Devtron Apps"})," (step 2), you get two options:"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Auto-create repository"}),"\n",(0,t.jsx)(i.li,{children:"Commit manifests to a desired repository"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/creating-application/gitops/git-repository-helm-app.jpg",alt:"Figure 8: Adding a Repo"})}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:["Enter your custom Git Repo URL, and click ",(0,t.jsx)(i.strong,{children:"Save"}),"."]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/creating-application/gitops/custom-git-repo-helm-apps.jpg",alt:"Figure 9: Saved GitOps Config for Helm App"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Next, you may proceed to deploy the chart."}),"\n",(0,t.jsxs)(i.admonition,{type:"caution",children:[(0,t.jsx)(i.mdxAdmonitionTitle,{}),(0,t.jsx)(i.p,{children:"Once you deploy a helm app with GitOps, you cannot change its GitOps repo."})]})]})}function d(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8453:(e,i,o)=>{o.d(i,{R:()=>r,x:()=>a});var n=o(6540);const t={},s=n.createContext(t);function r(e){const i=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),n.createElement(s.Provider,{value:i},e.children)}}}]);